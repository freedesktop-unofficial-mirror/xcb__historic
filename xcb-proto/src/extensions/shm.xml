<?xml version="1.0" encoding="utf-8"?>
<xcb header="shm">
<!--
Copyright (C) 2001-2004 Bart Massey and Jamey Sharp.
All Rights Reserved.  See the file COPYING in this directory
for licensing information.
-->
  <extension xname="MIT-SHM" name="Shm">
    
    <xidtype name="SEG" />
    
    <event name="Completion" number="0">
      <pad bytes="1" />
      <field type="DRAWABLE" name="drawable" />
      <field type="SEG" name="shmseg" />
      <field type="CARD16" name="minor_event" />
      <field type="BYTE" name="major_event" />
      <pad bytes="1" />
      <field type="CARD32" name="offset" />
    </event>
    
    <errorcopy name="BadSeg" number="0" ref="Value" />
    
    <request name="QueryVersion" opcode="0">
      <reply>
        <field type="BOOL" name="shared_pixmaps" />
        <field type="CARD16" name="major_version" />
        <field type="CARD16" name="minor_version" />
        <field type="CARD16" name="uid" />
        <field type="CARD16" name="gid" />
        <field type="CARD8" name="pixmap_format" />
      </reply>
    </request>
    
    <request name="Attach" opcode="1">
      <field type="SEG" name="shmseg" />
      <field type="CARD32" name="shmid" />
      <field type="BOOL" name="read_only" />
    </request>
    
    <request name="Detach" opcode="2">
      <field type="SEG" name="shmseg" />
    </request>
    
    <request name="PutImage" opcode="3">
      <field type="DRAWABLE" name="drawable" />
      <field type="GCONTEXT" name="gc" />
      <field type="CARD16" name="total_width" />
      <field type="CARD16" name="total_height" />
      <field type="CARD16" name="src_x" />
      <field type="CARD16" name="src_y" />
      <field type="CARD16" name="src_width" />
      <field type="CARD16" name="src_height" />
      <field type="INT16" name="dst_x" />
      <field type="INT16" name="dst_y" />
      <field type="CARD8" name="depth" />
      <field type="CARD8" name="format" />
      <field type="CARD8" name="send_event" />
      <pad bytes="1" />
      <field type="SEG" name="shmseg" />
      <field type="CARD32" name="offset" />
    </request>
    
    <request name="GetImage" opcode="4">
      <field type="DRAWABLE" name="drawable" />
      <field type="INT16" name="x" />
      <field type="INT16" name="y" />
      <field type="CARD16" name="width" />
      <field type="CARD16" name="height" />
      <field type="CARD32" name="plane_mask" />
      <field type="CARD8" name="format" />
      <pad bytes="3" />
      <field type="SEG" name="shmseg" />
      <field type="CARD32" name="offset" />
      <reply>
        <field type="CARD8" name="depth" />
        <field type="VISUALID" name="visual" />
        <field type="CARD32" name="size" />
      </reply>
    </request>
    
    <request name="CreatePixmap" opcode="5">
      <field type="PIXMAP" name="pid" />
      <field type="DRAWABLE" name="drawable" />
      <field type="CARD16" name="width" />
      <field type="CARD16" name="height" />
      <field type="CARD8" name="depth" />
      <pad bytes="3" />
      <field type="SEG" name="shmseg" />
      <field type="CARD32" name="offset" />
    </request>
    
  </extension>
</xcb>