<?xml version="1.0" encoding="utf-8"?>
<!--
Copyright (C) 2004 Josh Triplett.  All Rights Reserved.
See the file COPYING in this directory for licensing information.
-->
<!-- This file describes version 1 of DAMAGE. -->
<xcb header="damage">
  <extension xname="DAMAGE" name="Damage">
    <import>xfixes</import>

    <typedef oldname="CARD32" newname="DAMAGE" />

    <enum name="ReportLevel">
      <item name="RawRectangles" />
      <item name="DeltaRectangles" />
      <item name="BoundingBox" />
      <item name="NonEmpty" />
    </enum>

    <error name="BadDamage" number="0" />

    <request name="QueryVersion" opcode="0">
      <field type="CARD32" name="client_major_version" />
      <field type="CARD32" name="client_minor_version" />
      <reply>
        <pad bytes="1" />
        <field type="CARD32" name="major_version" />
        <field type="CARD32" name="minor_version" />
        <pad bytes="16" />
      </reply>
    </request>

    <request name="Create" opcode="1">
      <field type="DAMAGE"   name="damage" />
      <field type="DRAWABLE" name="drawable" />
      <field type="CARD8"    name="level" /> <!-- ReportLevel -->
      <pad bytes="3" />
    </request>

    <request name="Destroy" opcode="2">
      <field type="DAMAGE" name="damage" />
    </request>

    <request name="Subtract" opcode="3">
      <field type="DAMAGE" name="damage" />
      <field type="REGION" name="repair" />
      <field type="REGION" name="parts" />
    </request>

    <event name="Notify" number="0">
      <field type="CARD8"     name="level" /> <!-- ReportLevel -->
      <field type="DRAWABLE"  name="drawable" />
      <field type="DAMAGE"    name="damage" />
      <field type="TIMESTAMP" name="timestamp" />
      <field type="RECTANGLE" name="area" />
      <field type="RECTANGLE" name="geometry" />
    </event>

  </extension>
</xcb>